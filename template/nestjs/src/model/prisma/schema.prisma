// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// Enums
enum GenderEnum {
  MALE
  FEMALE
}

enum AccountStatusEnum {
  ACTIVE
  INACTIVE
  SUSPENDED
  PENDING
}

// User model
model User {
  id                    String            @id @default(uuid())
  firstName             String?           @map("first_name") @db.VarChar(50)
  lastName              String?           @map("last_name") @db.VarChar(50)
  middleName            String?           @map("middle_name") @db.VarChar(50)
  gender                GenderEnum?
  phoneNumber           String?           @unique @map("phone_number") @db.VarChar(15)
  emailAddress          String            @unique @map("email") @db.VarChar(50)
  password              String?
  verified              Boolean?          @default(false)
  requirePasswordChange Boolean?          @default(false) @map("require_password_change")
  twoFactorSecret       String?           @map("two_factor_secret")
  isTwoFactorEnabled    Boolean?          @default(false) @map("is_two_factor_enabled")
  status                AccountStatusEnum @default(ACTIVE)
  createdAt             DateTime          @default(now()) @map("created_at")
  updatedAt             DateTime          @updatedAt @map("updated_at")
  deletedAt             DateTime?         @map("deleted_at")

  @@map("users")
  @@index([emailAddress], name: "users_email_index")
  @@index([phoneNumber], name: "users_phone_index")
}
