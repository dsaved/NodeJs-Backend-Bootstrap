service: antimmu-notication
useDotenv: true

provider:
  name: aws
  runtime: nodejs18.x
  stage: staging
  region: eu-west-3
  vpc:
    securityGroupIds:
      - sg-0e0016ac858898cd6
    subnetIds:
      - subnet-02abf6f0883071883
      - subnet-0dc6dc078c4ee25e6

functions:
  handler:
    name: antimmu-notification-staging
    handler: email-service/index.handler
    events:
      - sqs: ${env:AWS_SQS_ARN}

plugins:
  - serverless-dotenv-plugin
